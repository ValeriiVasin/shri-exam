<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8' />
        <title>School of the interface development</title>
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="css/prism.css" />
    </head>
    <body>

        <ul class="nav" id="menu">
          <li class="active"><a href="#">Lectures</a></li>
          <li><a href="#import">Import</a></li>
          <li><a href="#export">Export</a></li>
        </ul>

        <div id="temp">

        </div>

        <div class="b-content">
            <div class="b-content-lectures">
                <h2>Lectures</h2>
                <ul class='b-content-lectures-list'></ul>
            </div>

            <div class="b-content-import">
                <h2>Import</h2>
                <textarea name="import-area" id="import-area"></textarea>
                <br /><br />
                <button class='import-submit'>Import</button>
            </div>

            <div class="b-content-export">
                <h2>Export</h2>
                <pre><code class="language-javascript" id='export-json'></code></pre>
            </div>
        </div>

        <script type='text/template' data-name='lectures-group'>
            <li class="b-lecture-date">
                <%= date %>
            </li>
            <% lectures.forEach(function (lecture) { %>
                <li class='b-lecture'>
                    <span class='b-lecture-time<% if (lecture.time === false) { %> empty<% } %>'>
                        <%= lecture.time %>
                    </span>
                    <span class='b-lecture-title'>
                        <% if (lecture.lecture.url) { %>
                            <a href='<%= lecture.lecture.url %>' target='_blank'>
                        <% } %>
                        <%= lecture.lecture.title %>
                        <% if (lecture.lecture.url) { %>
                            </a>
                        <% } %>
                    </span>
                    <span class='b-lecture-lecturer'>
                        <% if (lecture.lecturer.site) { %>
                            <a href='<%= lecture.lecturer.site %>' target='_blank'>
                        <% } %>
                        <%= lecture.lecturer.name %>
                        <% if (lecture.lecturer.site) { %>
                            </a>
                        <% } %>
                    </span>
                    <span class='b-lecture-edit'>
                        <i data-uid='<%= lecture.uid %>'>edit</i>
                    </span>
                </li>
            <% }); %>
        </script>

        <script type="text/template" data-name='lecture-form'>
            <div class='lecture-form-modal'>
                <div class='lecture-form-modal-title'>
                    <% if (edit) { %>Редактирование<% } else { %>Добавление<% } %> лекции
                </div>

                <div class='field'>
                    Дата: <input type='text' name='date' value='<%= date %>' />
                </div>
                <div class='field'>
                    Время: <input type='text' name='time' value='<%= time %>' />
                </div>
                <div class='field'>
                    Название лекции: <input type='text' name='lecture-title' value='<%= lecture.title %>' />
                </div>
                <div class='field'>
                    Ссылка на лекцию: <input type='text' name='lecture-url' value='<%= lecture.url %>' />
                </div>
                <div class='field'>
                    Лектор: <input type='text' name='lecturer-name' value='<%= lecturer.name %>' />
                </div>
                <div class='field'>
                    Сайт лектора: <input type='text' name='lecturer-site' value='<%= lecturer.site %>' />
                </div>

                <div class='error' style='display: none; color: red;'>Не все обязательные поля заполнены, либо неверный формат данных.</div>
                <button class='lecture-form-modal-submit'>Сохранить</button>
            </div>
        </script>

        <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/es5-shim/1.2.4/es5-shim.min.js'></script>
        <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.2/jquery.min.js'></script>
        <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.1/underscore-min.js'></script>
        <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js'></script>

        <script type='text/javascript' src='js/plugins/textinputs_jquery.js'></script>

        <script type='text/javascript' src='js/app.js'></script>
        <script type='text/javascript' src='js/modules.js'></script>
        <script type='text/javascript' src='js/pubsub.js'></script>

        <script type='text/javascript' src='js/modules/templates.js'></script>
        <script type='text/javascript' src='js/modules/lectures.js'></script>
        <script type='text/javascript' src='js/modules/lectures.ui.js'></script>
        <script type='text/javascript' src='js/modules/import.js'></script>
        <script type='text/javascript' src='js/modules/export.js'></script>
        <script type='text/javascript' src='js/modules/utils.js'></script>

        <script type='text/javascript' src='js/modules/router.js'></script>
        <script type='text/javascript' src='js/modules/navigation.js'></script>

        <script type='text/javascript' src='js/plugins/prism.js'></script>
    </body>
</html>
